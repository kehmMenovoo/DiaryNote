{"version":3,"sources":["hooks/useWindowSize.js","Header.js","api/posts.js","hooks/useAxiosFetch.js","context/DataContext.js","Nav.js","Footer.js","Post.js","Feed.js","Home.js","NewPost.js","EditPost.js","PostPage.js","About.js","Missing.js","App.js","index.js"],"names":["useWindowSize","useState","width","undefined","heigth","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","Header","title","className","style","fontSize","axios","create","baseURL","useAxiosFetch","dataUrl","data","setData","fetchError","setFetchError","isLoading","setIsLoading","isMounted","source","CancelToken","fetchData","url","a","get","cancelToken","token","response","message","setTimeout","console","log","cancel","DataContext","createContext","DataProvider","children","search","setSearch","posts","setPosts","searchResults","setSearchResults","postTitle","setPostTitle","postBody","setPostBody","editTitle","setEditTitle","editBody","setEditBody","history","useHistory","formatAMPM","date","hours","getHours","minutes","getMinutes","ampm","filteredResults","filter","post","body","toLowerCase","includes","reverse","handleSubmit","e","preventDefault","id","length","datetime","format","Date","newPost","api","allPosts","push","handleEdit","updatePost","put","map","handleDelete","delete","postList","Provider","value","Nav","useContext","onSubmit","htmlFor","type","placeholder","onChange","target","to","Footer","today","getFullYear","Post","myArr","split","res","i","end3dots","Feed","Home","color","NewPost","required","EditPost","useParams","find","toString","marginTop","marginLeft","onClick","textAlign","PostPage","About","Missing","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.64b72ea2.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst useWindowSize = () => {\r\n    const [windowSize, setWindowSize] = useState({\r\n        width: undefined,\r\n        heigth: undefined\r\n    });\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setWindowSize({\r\n                width: window.innerWidth,\r\n                heigth: window.innerHeight\r\n            })\r\n        }\r\n\r\n        handleResize();\r\n        window.addEventListener(\"resize\", handleResize);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"resize\", handleResize);\r\n        };\r\n    }, [])\r\n\r\n    return windowSize;\r\n}\r\n\r\nexport default useWindowSize;","import { FaLaptop, FaMobileAlt, FaTabletAlt } from \"react-icons/fa\";\r\nimport useWindowSize from \"./hooks/useWindowSize\";\r\n\r\nconst Header = ({ title }) => {\r\n    const { width } = useWindowSize();\r\n    return (\r\n        <header className=\"Header\">\r\n            <h3>{title}</h3>\r\n            <div className=\"plateform\">\r\n                {width < 768 ? <FaMobileAlt style={{fontSize: \"23px\"}}/>\r\n                    : width < 992 ? <FaTabletAlt style={{fontSize: \"23px\"}}/>\r\n                        : <FaLaptop style={{fontSize: \"40px\"}}/>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n    baseURL: 'http://localhost:3500'\r\n});","import { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\n\r\nconst useAxiosFetch = (dataUrl) => {\r\n    const [data, setData] = useState([]);\r\n    const [fetchError, setFetchError] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        const source = axios.CancelToken.source();\r\n\r\n        const fetchData = async (url) => {\r\n            setIsLoading(true);\r\n            try {\r\n                const response = await axios.get(url, {\r\n                    cancelToken: source.token \r\n                });\r\n                \r\n                if(isMounted) {\r\n                    setData(response.data);\r\n                    setFetchError(null);\r\n                }\r\n            }\r\n            catch(err) {\r\n                if (isMounted) {\r\n                    setFetchError(err.message);\r\n                    setData([]);\r\n                }\r\n            }\r\n            finally {\r\n                isMounted && setTimeout(() => setIsLoading(false), 2000);\r\n            }\r\n        }\r\n\r\n        fetchData(dataUrl);\r\n\r\n        const cleanUp = () => {\r\n            console.log('Clean up function');\r\n            isMounted = false;\r\n            source.cancel();\r\n        }\r\n        return cleanUp;\r\n    }, [dataUrl]);\r\n    return { data, fetchError, isLoading};\r\n}\r\n\r\nexport default useAxiosFetch;","import { createContext, useState, useEffect } from \"react\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport format from 'date-fns/format';\r\nimport api from '../api/posts';\r\nimport useAxiosFetch from '../hooks/useAxiosFetch';\r\n\r\nconst DataContext = createContext({});\r\n\r\nexport const DataProvider = ({children}) => {\r\n    const [search, setSearch] = useState('');\r\n    const [posts, setPosts] = useState([]);\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [postTitle, setPostTitle] = useState('');\r\n    const [postBody, setPostBody] = useState('');\r\n    const [editTitle, setEditTitle] = useState('');\r\n    const [editBody, setEditBody] = useState('');\r\n    const history = useHistory();\r\n  \r\n    const {data, fetchError, isLoading} = useAxiosFetch('http://localhost:3500/posts');\r\n    \r\n    // useEffect(() => {\r\n    //   const fetchPosts = async () => {\r\n    //     try{\r\n    //       const response = await api.get('/posts');\r\n    //       setPosts(response.data);\r\n    //     }\r\n    //     catch(err) {\r\n    //       // Not in the 200 response range\r\n    //       if(err.response) {\r\n    //         console.log(err.response.data);\r\n    //         console.log(err.response.status);\r\n    //         console.log(err.response.headers);\r\n    //       }\r\n    //       else {\r\n    //         console.log(`Error: ${err.message}`);\r\n    //       }\r\n    //     }\r\n    //   }\r\n    //   fetchPosts();\r\n    // }, [])\r\n    useEffect(() => {\r\n      setPosts(data);\r\n    }, [data]);\r\n  \r\n    useEffect(() => {\r\n      const filteredResults = posts.filter(post => ((post.body).toLowerCase()).includes(search.toLowerCase())\r\n      || ((post.title).toLowerCase()).includes(search.toLowerCase()));\r\n  \r\n      setSearchResults(filteredResults.reverse());\r\n    }, [posts, search]);\r\n\r\n    function formatAMPM(date) {\r\n        var hours = date.getHours();\r\n        var minutes = date.getMinutes();\r\n        var ampm = hours >= 12 ? 'PM' : 'AM';\r\n        hours = hours % 12;\r\n        hours = hours ? hours : 12; // the hour '0' should be '12'\r\n        minutes = minutes < 10 ? '0'+minutes : minutes;\r\n        var strTime = hours + ':' + minutes + ' ' + ampm;\r\n        return strTime;\r\n    }\r\n      \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const id = posts.length ? posts[posts.length -1].id + 1 : 1;\r\n        const datetime = format(new Date(), 'MMMM dd, yyyy ') + formatAMPM(new Date);\r\n        const newPost = {id, title: postTitle, datetime, body: postBody};\r\n        try{\r\n            const response = await api.post('/posts', newPost);\r\n            const allPosts = [...posts, response.data];\r\n            setPosts(allPosts);\r\n            setPostTitle('');\r\n            setPostBody('');\r\n            history.push('/');\r\n        }\r\n        catch(err) {\r\n          console.log(`Error ${err.message}`);\r\n        }\r\n    \r\n    }\r\n    \r\n    const handleEdit = async (id) => {\r\n        const datetime = format(new Date(), 'MMMM dd, yyyy ') + formatAMPM(new Date);\r\n        const updatePost = {id, title: editTitle, datetime, body: editBody};\r\n        try{\r\n            const response = await api.put(`/posts/${id}`, updatePost);\r\n            setPosts(posts.map(post => post.id === id ? {...response.data} : post));\r\n            setEditTitle('');\r\n            setEditBody('');\r\n            history.push(`/post/${id}`);\r\n        }\r\n        catch(err) {\r\n            console.log(`Error: ${err.message}`);\r\n        }\r\n    }\r\n    \r\n    const handleDelete = async (id) => {\r\n        try{\r\n          await api.delete(`/posts/${id}`);\r\n          const postList = posts.filter(post => post.id !== id);\r\n          setPosts(postList);\r\n          history.push('/');\r\n        }\r\n        catch(err) {\r\n          console.log(`Error ${err.message}!`);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <DataContext.Provider value={{\r\n            search, setSearch,\r\n            searchResults, fetchError, isLoading,\r\n            handleSubmit, postTitle, setPostTitle, postBody, setPostBody,\r\n            posts, handleEdit, editBody, setEditBody, editTitle, setEditTitle,\r\n            posts, handleDelete\r\n        }}>\r\n            {children}\r\n        </DataContext.Provider>\r\n    )\r\n}\r\n\r\nexport default DataContext;","import { Link } from \"react-router-dom\";\r\nimport { useContext} from \"react\";\r\nimport DataContext from \"./context/DataContext\";\r\n\r\nconst Nav = () => {\r\n    const {search, setSearch} = useContext(DataContext);\r\n    return (\r\n        <nav className=\"Nav\">\r\n            <form className=\"searchForm\" onSubmit={(e) => e.preventDefault()}>\r\n                <label htmlFor=\"search\">Search Posts</label>\r\n                <input \r\n                    type=\"text\"\r\n                    id=\"search\"\r\n                    placeholder=\"Search...\"\r\n                    value={search}\r\n                    onChange={(e) => setSearch(e.target.value)}\r\n                />\r\n            </form>\r\n            <ul>\r\n                <Link to=\"/\"><li>Home</li></Link>\r\n                <Link to=\"/post\"><li>Post</li></Link>\r\n                <Link to=\"/about\"><li>About</li></Link>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Nav\r\n","const Footer = () => {\r\n    const today = new Date();\r\n    return (\r\n        <footer className=\"Footer\">\r\n                <p>Copyright &copy; {today.getFullYear()}</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst Post = ({post}) => {\r\n    const end3dots = function(e) {\r\n        const myArr = e.split(\" \");\r\n        let res =\"\";\r\n        let i=0;\r\n        for(i; i<10; i++){\r\n            res = i<9 ? (res + myArr[i] + \" \") : (res + myArr[i]);\r\n        }\r\n        res += '...';\r\n        return res;\r\n    }\r\n    return (\r\n       <article className=\"post\">\r\n           <Link to={`/post/${post.id}`} >\r\n               <h4>{post.title}</h4>\r\n               <p className=\"postDate\">{post.datetime}</p>\r\n           </Link>\r\n           <p className=\"postBody\">\r\n                {(post.body).length <= 50 ? post.body : `${end3dots(post.body)}`}\r\n           </p>\r\n       </article>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import Post from './Post';\r\n\r\nconst Feed = ({posts}) => {\r\n    return (\r\n        <>\r\n            {posts.map(post => (\r\n                <Post key={post.id} post={post} />\r\n            ))}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Feed\r\n","import Feed from './Feed';\r\nimport { useContext } from \"react\";\r\nimport DataContext from \"./context/DataContext\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Home = () => {\r\n    const {searchResults, fetchError, isLoading} = useContext(DataContext);\r\n    return (\r\n       <main className=\"Home\">\r\n            {isLoading && <p className=\"statusMsg\" style={{color: 'gray'}}>Loading...</p>}\r\n            {!isLoading && fetchError && \r\n                <p className=\"statusMsg\" style={{color: \"red\"}}>\r\n                    {fetchError}\r\n                </p>\r\n            }\r\n            {!isLoading && !fetchError && \r\n                (searchResults.length ? <Feed posts={searchResults} /> \r\n                : <p className=\"statusMsg\">\r\n                    No post is found\r\n                </p>)\r\n            }\r\n\r\n            {/* {searchResults.length ? (\r\n                <Feed searchResults={searchResults} />\r\n            ) : (\r\n                <p style={{textAlign: \"center\", marginTop: \"100px\", color: \"gray\"}}>No post to display</p>\r\n            )} */}\r\n       </main>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import { useContext } from \"react\";\r\nimport DataContext from \"./context/DataContext\";\r\n\r\n\r\nconst NewPost = () => {\r\n    const {handleSubmit, postTitle, setPostTitle, postBody, setPostBody} = useContext(DataContext);\r\n    \r\n    return (\r\n       <main className=\"NewPost\">\r\n           <h2 style={{fontSize: \"25px\"}}>New Post</h2>\r\n           <form className=\"newPostForm\" onSubmit={handleSubmit}>\r\n               <label htmlFor=\"postTitle\">Title:</label>\r\n               <input \r\n                    type=\"text\" \r\n                    id=\"postTitle\"\r\n                    required\r\n                    value={postTitle}\r\n                    onChange={(e) => setPostTitle(e.target.value)}\r\n                />\r\n                <label htmlFor=\"postBody\">Post:</label>\r\n                <textarea\r\n                    id=\"postBody\"\r\n                    required\r\n                    value={postBody}\r\n                    onChange={(e) => setPostBody(e.target.value)}\r\n                />\r\n                <div className=\"post-btn\">\r\n                    <button type=\"submit\">\r\n                        <p>Submit</p>\r\n                    </button>\r\n                </div>\r\n           </form>\r\n       </main>\r\n    )\r\n}\r\n\r\nexport default NewPost\r\n","import { useEffect } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport DataContext from \"./context/DataContext\";\r\nimport { FaArrowLeft } from \"react-icons/fa\";\r\n\r\nconst EditPost = () => {\r\n    const {posts, handleEdit, editBody, setEditBody, editTitle, setEditTitle} = useContext(DataContext);\r\n    const {id} = useParams();\r\n    const post = posts.find(post => (post.id).toString() === id);\r\n\r\n    useEffect(() => {\r\n        if(post) {\r\n            setEditTitle(post.title);\r\n            setEditBody(post.body);\r\n\r\n        }\r\n    }, [post, setEditTitle, setEditBody]);\r\n    return (\r\n         <main className=\"NewPost\">\r\n            {editTitle && \r\n                <>\r\n                    <div className=\"back\" style={{marginTop: \"-12px\"}}>\r\n                        <Link to={`/post/${id}`} style={{marginLeft: \"-2px\"}}>\r\n                            <FaArrowLeft className=\"arrowBack\"/><br /><br />\r\n                        </Link>\r\n                    </div>\r\n                    <h2 style={{fontSize: \"25px\"}}>Edit Post</h2>\r\n                    <form className=\"newPostForm\" onSubmit={(e) => e.preventDefault()}>\r\n                        <label htmlFor=\"postTitle\">Title:</label>\r\n                        <input \r\n                                type=\"text\" \r\n                                id=\"postTitle\"\r\n                                required\r\n                                value={editTitle}\r\n                                onChange={(e) => setEditTitle(e.target.value)}\r\n                            />\r\n                            <label htmlFor=\"postBody\">Post:</label>\r\n                            <textarea\r\n                                id=\"postBody\"\r\n                                required\r\n                                value={editBody}\r\n                                onChange={(e) => setEditBody(e.target.value)}\r\n                            />\r\n                            <div className=\"post-btn\">\r\n                                <button type=\"submit\" onClick={() => handleEdit(post.id)}>\r\n                                    <p>Save</p>\r\n                                </button>\r\n                            </div>\r\n                    </form>\r\n                </>\r\n            }\r\n             {!editTitle && \r\n                    <>\r\n                        <br />\r\n                        <h3 style={{textAlign: \"center\"}}>Post Not Found</h3>\r\n                        <p style={{textAlign: \"center\"}}>Well, that's disappointing.</p>\r\n                        <p style={{textAlign: \"center\"}}>\r\n                            <Link to=\"/\">Visit Homepage</Link>\r\n                        </p>\r\n                    </>\r\n                }\r\n       </main>\r\n    )\r\n}\r\n\r\nexport default EditPost\r\n","import { useParams, Link } from \"react-router-dom\";\r\nimport { FaTrash, FaArrowLeft } from \"react-icons/fa\";\r\nimport { useContext } from \"react\";\r\nimport DataContext from \"./context/DataContext\";\r\n\r\nconst PostPage = () => {\r\n    const {posts, handleDelete} = useContext(DataContext);\r\n    const {id} = useParams();\r\n    const post = posts.find(post => (post.id).toString() === id);\r\n    return (\r\n       <main className=\"PostPage\">\r\n           <article className=\"post\">\r\n                {post && \r\n                    <>\r\n                        <div className=\"back\" style={{marginTop: \"-30px\"}}>\r\n                            <Link to=\"/\">\r\n                                <FaArrowLeft className=\"arrowBack\"/><br /><br />\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"postTitle\">\r\n                            <div className=\"postTitle_head\">\r\n                                <h2>{post.title}</h2>\r\n                            </div>\r\n                            <div className=\"postTool\">\r\n                                <Link to={`/edit/${post.id}`} className=\"editButton\">Edit</Link>\r\n                                <button onClick={() => handleDelete(post.id)} title=\"Delete\">\r\n                                    <FaTrash />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <p className=\"postDate\">{post.datetime}</p>\r\n                        <p className=\"postBody\">{post.body}</p>\r\n                    </>\r\n                }\r\n                {!post && \r\n                    <>\r\n                        <br />\r\n                        <h3 style={{textAlign: \"center\"}}>Post Not Found</h3>\r\n                        <p style={{textAlign: \"center\"}}>Well, that's disappointing.</p>\r\n                        <p style={{textAlign: \"center\"}}>\r\n                            <Link to=\"/\">Visit Homepage</Link>\r\n                        </p>\r\n                    </>\r\n                }\r\n           </article>\r\n       </main>\r\n    )\r\n}\r\n\r\nexport default PostPage\r\n","const About = () => {\r\n    return (\r\n        <main className=\"About\">\r\n            <h2>About</h2>\r\n            <p style={{marginTop: \"1rem\"}}>\r\n                This blog app is a project in the learn React tutorial series.\r\n            </p>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default About\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst Missing = () => {\r\n    return (\r\n       <main className=\"Missing\">\r\n           <br />\r\n            <h3 style={{textAlign: \"center\", color: \"black\"}}>Post Not Found</h3>\r\n            <p style={{textAlign: \"center\", color: \"black\"}}>Well, that's disappointing.</p>\r\n            <p style={{textAlign: \"center\"}}>\r\n                <Link to=\"/\">Visit Homepage</Link>\r\n            </p>\r\n       </main>\r\n    )\r\n}\r\n\r\nexport default Missing\r\n","import Header from './Header';\nimport Nav from './Nav';\nimport Footer from './Footer';\nimport Home from './Home';\nimport NewPost from './NewPost';\nimport EditPost from './EditPost';\nimport PostPage from './PostPage';\nimport About from './About';\nimport Missing from './Missing';\nimport { Route, Switch } from 'react-router-dom';\nimport { DataProvider } from './context/DataContext';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header title={\"React JS Blog\"} />\n      <DataProvider>\n          <Nav />\n          <Switch>\n            <Route exact path=\"/\" component={Home}/>\n            <Route exact path=\"/post\" component={NewPost} />\n            <Route path=\"/edit/:id\" component={EditPost} />\n            <Route path=\"/post/:id\" component={PostPage} />\n            <Route path=\"/about\" component={About} />\n            <Route path=\"*\" component={Missing} />\n          </Switch>\n        </DataProvider>\n        <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Route path=\"/\" component={App} />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}